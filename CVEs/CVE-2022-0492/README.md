# CVE-2022-0492

## Description

See: https://github.com/chenaotian/CVE-2022-0492

- 漏洞编号: CVE-2022-0492
- 漏洞产品: linux kernel - cgroup
- 影响版本: ~linux kernel 5.17-rc3
- 漏洞危害: 当容器没有开启额外安全措施时，获得容器内root 权限即可逃逸到宿主机

Ubuntu版本需要是20.04LTS及以前

```shell
#关闭所有安全防护启动docker
docker run --rm -it -h cve --name cve --security-opt="seccomp=unconfined" --security-opt="apparmor=unconfined" ubuntu:20.04 /bin/bash 
```

新获得的命名空间拥有全部的capbilities权限。
```shell
cat /proc/$$/status |grep CapEff
# CapEff: 000001ffffffffff
```
Exploit使用 `exp.sh`.参数为需要执行的命令.例如:
```shell
./exp.sh "hostname"
```